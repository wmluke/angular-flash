/**!
 * @license angular-flash v0.1.13
 * Copyright (c) 2013 William L. Bunselmeyer. https://github.com/wmluke/angular-flash
 * License: MIT
 */

(function(){"use strict";var e=0;var t=function(n){function l(e,t){angular.forEach(r.subscribers,function(n){var i=!n.type||n.type===e;var s=!r.id&&!n.id||n.id===r.id;if(i&&s){n.cb(t,e)}})}var r=angular.extend({id:null,subscribers:{},classnames:{error:[],warn:[],info:[],success:[]}},n);var i=this;var s;var o;var u;var a;var f;this.getCount=function(){var e=0;if(o){++e}if(s){++e}if(u){++e}if(a){++e}return e};this.clean=function(e){s=null;o=null;u=null;a=null;if(!e){l(null,"")}f=null};this.subscribe=function(t,n,i){e+=1;r.subscribers[e]={cb:t,type:n,id:i};return e};this.unsubscribe=function(e){delete r.subscribers[e]};this.to=function(e){var n=angular.copy(r);n.id=e;return new t(n)};Object.defineProperty(this,"success",{get:function(){return s},set:function(e){s=e;f="success";l(f,e)}});Object.defineProperty(this,"info",{get:function(){return o},set:function(e){o=e;f="info";l(f,e)}});Object.defineProperty(this,"warn",{get:function(){return u},set:function(e){u=e;f="warn";l(f,e)}});Object.defineProperty(this,"error",{get:function(){return a},set:function(e){a=e;f="error";l(f,e)}});Object.defineProperty(this,"type",{get:function(){return f}});Object.defineProperty(this,"message",{get:function(){return f?i[f]:null}});Object.defineProperty(this,"classnames",{get:function(){return r.classnames}});Object.defineProperty(this,"id",{get:function(){return r.id}})};angular.module("angular-flash.service",[]).provider("flash",function(){var e=this;this.errorClassnames=["alert-error"];this.warnClassnames=["alert-warn"];this.infoClassnames=["alert-info"];this.successClassnames=["alert-success"];this.$get=function(){return new t({classnames:{error:e.errorClassnames,warn:e.warnClassnames,info:e.infoClassnames,success:e.successClassnames}})}})})();(function(){"use strict";function e(e){if(e===null||e===undefined){e=""}return/^\s*$/.test(e)}function t(t,n){return{scope:true,link:function(r,i,s){function a(){var e=[].concat(t.classnames.error,t.classnames.warn,t.classnames.info,t.classnames.success);angular.forEach(e,function(e){i.removeClass(e)})}function f(u,f){if(o){n.cancel(o)}r.flash.type=f;r.flash.message=u;a();angular.forEach(t.classnames[f],function(e){i.addClass(e)});if(!e(s.activeClass)){i.addClass(s.activeClass)}i.css({display:"block"});if(!u){r.hide();return}var l=Number(s.duration||5e3);if(l>0){o=n(r.hide,l)}}var o,u;r.flash={};r.hide=function(){a();if(!e(s.activeClass)){i.removeClass(s.activeClass)}r.flash={};i.css({display:"none"})};r.$on("$destroy",function(){t.clean();t.unsubscribe(u)});u=t.subscribe(f,s.flashAlert,s.id);if(s.flashAlert&&t[s.flashAlert]){f(t[s.flashAlert],s.flashAlert)}if(!s.flashAlert&&t.message){f(t.message,t.type)}}}}angular.module("angular-flash.flash-alert-directive",["angular-flash.service"]).directive("flashAlert",["flash","$timeout",t])})()